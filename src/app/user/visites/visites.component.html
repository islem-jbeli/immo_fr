<div class="visites-container py-5">
  <!-- üîπ Titre principal -->
  <h2 class="mb-5 text-center fw-bold text-gradient">
    <i class="fas fa-clock me-2"></i> ‚è∞ Historique des visites
  </h2>

  <!-- üî∏ Conteneur principal en flex -->
  <div class="row g-4">
    <!-- üîπ Liste des visites -->
    <div class="col-lg-6" *ngIf="visitedProperties.length > 0; else noVisits">
      <div *ngFor="let property of visitedProperties" class="card property-card shadow-lg border-0 mb-4">
        <div class="row g-0 align-items-center">
          <!-- Image -->
          <div class="col-md-4">
            <img [src]="property.image" class="property-image img-fluid rounded-start" alt="Photo du bien">
          </div>

          <!-- Contenu -->
          <div class="col-md-8">
            <div class="card-body d-flex flex-column justify-content-between h-100">
              <div>
                <h5 class="card-title mb-1">{{ property.title }}</h5>
                <p class="text-muted mb-1">
                  <i class="fas fa-map-marker-alt me-1"></i> {{ property.location }}
                </p>
                <small class="text-secondary">
                  <i class="far fa-calendar-alt me-1"></i> Consult√© le {{ property.visitedAt | date:'medium' }}
                </small>
              </div>

              <!-- Bouton moderne -->
              <div class="mt-3">
                <button (click)="selectProperty(property)" class="btn-view btn btn-primary btn-sm">
                  <i class="fas fa-eye me-1"></i> Voir l‚Äôannonce
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- üîπ D√©tails de l‚Äôannonce s√©lectionn√©e √† droite -->
    <div class="col-lg-6" *ngIf="selectedProperty">
      <div class="card shadow-lg border-0 p-3 selected-property-card h-100">
        <img [src]="selectedProperty.image" alt="Photo du bien" class="img-fluid rounded mb-3">
        <h5 class="card-title fw-bold text-gradient">{{ selectedProperty.title }}</h5>
        <p class="text-muted mb-2">
          <i class="fas fa-map-marker-alt me-1"></i> {{ selectedProperty.location }}
        </p>
        <p class="text-secondary mb-2">
          <i class="far fa-calendar-alt me-1"></i> Consult√© le {{ selectedProperty.visitedAt | date:'medium' }}
        </p>
        <p><strong>Description :</strong> {{ selectedProperty.description || 'Aucune description disponible.' }}</p>
        <button class="btn btn-outline-secondary btn-sm" (click)="selectedProperty = null">
          <i class="fas fa-times me-1"></i> Fermer
        </button>
      </div>
    </div>
  </div>

  <!-- üî∏ Template pour aucune visite -->
  <ng-template #noVisits>
    <div class="alert alert-info text-center mt-5 shadow-sm">
      <i class="fas fa-info-circle me-2"></i> Vous n'avez encore consult√© aucune annonce.
    </div>
  </ng-template>
</div>
