<div class="dashboard-wrapper d-flex" *ngIf="!isSavedSearchesPage() && !isfavorisuserPage()
&& !isMessagesuserPage() && !isAccountSettingsPage() && !isVisitesPage()">

  <!-- Sidebar -->
  <nav class="sidebar p-3 d-flex flex-column">
    <div class="sidebar-header mb-4 text-center">
      <h4 class="mb-0">🏠 Mon Dashboard</h4>
    </div>
    <ul class="nav flex-column flex-fill">
      <li class="nav-item mb-2">
        <a class="nav-link" routerLink="/dashboard-perso/saved-searches">🔍 Recherches</a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link" routerLink="/dashboard-perso/favorisuser">❤️ Favoris</a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link" routerLink="/dashboard-perso/recommandations">💡 Recommandations</a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link" routerLink="/dashboard-perso/messagesuser">✉️ Messages</a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link" routerLink="/dashboard-perso/account-settings">⚙️ Paramètres</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/dashboard-perso/visites">⏰ Historique</a>
      </li>
    </ul>
  </nav>

  <!-- Main content -->
  <div class="dashboard-main flex-fill p-4">

    <!-- Cartes principales -->
    <div class="row g-4 mb-5">
      <ng-container *ngFor="let card of cards">
        <div class="col-sm-6 col-md-4 d-flex">
          <div class="dashboard-card shadow-sm w-100" [routerLink]="card.link">
            <div class="card-body d-flex align-items-center">
              <span class="icon me-3 fs-3" [ngClass]="card.color">{{ card.emoji }}</span>
              <div>
                <h5 class="card-title mb-1">{{ card.title }}</h5>
                <p class="card-text mb-0">{{ card.subtitle }}</p>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>

    <!-- Statistiques -->
<div class="container mt-4">
  <h2 class="text-center fw-bold mb-2 text-primary">📊 Suivi de vos activités</h2>
  <p class="text-center text-secondary mb-4">
    Suivi de vos activités sur la plateforme (biens vus, visites, recherches, favoris, etc.)
  </p>

  <div class="charts-container d-flex flex-wrap justify-content-center gap-4">
    <!-- Bar chart : Activité mensuelle -->
    <div class="chart-card p-3 shadow-sm bg-white rounded" style="width: 45%;">
      <h5 class="chart-title mb-3">Activité mensuelle</h5>
      <canvas baseChart
              [data]="activityChartData"
              [options]="activityChartOptions"
              chartType="line">
      </canvas>
    </div>

    <!-- Donut chart : Répartition des actions -->
    <div class="chart-card p-3 shadow-sm bg-white rounded" style="width: 45%;">
      <h5 class="chart-title mb-3">Répartition des actions</h5>
      <canvas baseChart
              [data]="actionsChartData"
              [options]="actionsChartOptions"
              chartType="doughnut">
      </canvas>
    </div>
  </div>
</div>

  </div>
</div>

<router-outlet></router-outlet>
