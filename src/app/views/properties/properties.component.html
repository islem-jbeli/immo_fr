<div class="properties-page">

  <!-- Header -->
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="header-container container-fluid container-xl position-relative d-flex align-items-center justify-content-between">
      <a routerLink="/" class="logo d-flex align-items-center me-auto me-xl-0">
        <h1 class="sitename">ImmoSmart</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a routerLink="/">Home</a></li>
          <li><a routerLink="/about">About</a></li>
          <li><a routerLink="/properties" class="active">Properties</a></li>
          <li><a routerLink="/services">Services</a></li>
          <li><a routerLink="/agents">Agents</a></li>
          <li><a routerLink="/blog">Blog</a></li>
          <li><a routerLink="/contact">Contact</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <a class="btn-getstarted" routerLink="/properties">Se connecter</a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">

    <!-- Page Title -->
    <div class="page-title">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1 class="heading-title">Properties</h1>
              <p class="mb-0">
                Odio et unde deleniti. Deserunt numquam exercitationem. Officiis quo
                odio sint voluptas consequatur ut a odio voluptatem. Sit dolorum
                debitis veritatis natus dolores. Quasi ratione sint. Sit quaerat
                ipsum dolorem.
              </p>
            </div>
          </div>
        </div>
      </div>
      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a routerLink="/">Home</a></li>
            <li class="current">Properties</li>
          </ol>
        </div>
      </nav>
    </div>

    <!-- Properties Section -->
    <section id="properties" class="properties section">
      <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="row">
          <!-- Main Column -->
          <div class="col-lg-8">

            <!-- Header: View Toggle & Sort -->
            <div class="properties-header mb-4">
              <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
                <!-- Toggle View -->
                <div class="view-toggle d-flex gap-2">
                  <button class="btn btn-outline-secondary btn-sm view-btn"
                          [class.active]="viewMode === 'grid'"
                          (click)="viewMode = 'grid'">
                    <i class="bi bi-grid-3x3-gap"></i> Grid
                  </button>
                  <button class="btn btn-outline-secondary btn-sm view-btn"
                          [class.active]="viewMode === 'list'"
                          (click)="viewMode = 'list'">
                    <i class="bi bi-list"></i> List
                  </button>
                </div>

                <!-- Sort -->
                <div class="sort-dropdown">
                  <select class="form-select form-select-sm" [(ngModel)]="sortOption">
                    <option value="newest">Sort by: Newest</option>
                    <option value="low-high">Price: Low to High</option>
                    <option value="high-low">Price: High to Low</option>
                    <option value="viewed">Most Viewed</option>
                  </select>
                </div>
              </div>
            </div>

          <!-- GRID VIEW -->
<div *ngIf="viewMode === 'grid'" class="properties-grid active" data-aos="fade-up" data-aos-delay="200">
  <div class="row g-4">
    <div class="col-lg-6 col-md-6" *ngFor="let property of properties">
      <div class="property-card shadow rounded-3 overflow-hidden">

        <!-- Image -->
        <div class="property-image position-relative">
          <img [src]="property.image" [alt]="property.title" class="img-fluid w-100">

          <!-- Badges -->
  <div class="property-badges position-absolute top-0 start-0 m-3">
  <span *ngFor="let badge of property.badges" class="badge me-1" [ngClass]="badge.class">
    {{ badge.text }}
  </span>
</div>



          <!-- Overlay -->
          <div class="property-overlay position-absolute bottom-0 end-0 p-2 d-flex gap-2">
            <button class="btn btn-light btn-sm rounded-circle"><i class="bi bi-heart"></i></button>
            <button class="btn btn-light btn-sm rounded-circle"><i class="bi bi-images"></i></button>
          </div>
        </div>

        <!-- Content -->
        <div class="property-content p-3">
          <div class="property-price h5 text-primary">{{ property.price }}</div>
          <h4 class="property-title mb-2">{{ property.title }}</h4>
          <p class="property-location text-muted">
            <i class="bi bi-geo-alt me-1"></i> {{ property.location }}
          </p>

          <!-- Features -->
          <div class="property-features d-flex gap-3 my-3">
            <span><i class="bi bi-house"></i> {{ property.beds }} Bed</span>
            <span><i class="bi bi-water"></i> {{ property.baths }} Bath</span>
            <span><i class="bi bi-arrows-angle-expand"></i> {{ property.size }}</span>
          </div>

          <!-- Agent -->
          <div class="agent d-flex align-items-center gap-2 mb-2">
            <img [src]="property.agent.avatar" alt="Agent" class="agent-avatar rounded-circle">
            <span>{{ property.agent.name }}</span>
          </div>

          <a [routerLink]="['/property', property.id]" class="btn btn-primary w-100">View Details</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- LIST VIEW -->
<div *ngIf="viewMode === 'list'" class="properties-list" data-aos="fade-up" data-aos-delay="200">
  <div class="property-list-item mb-4" *ngFor="let property of properties">
    <div class="row align-items-center">
      <div class="col-lg-4">
        <img [src]="property.image" [alt]="property.title" class="img-fluid rounded">
      </div>
      <div class="col-lg-8">
        <div class="d-flex justify-content-between align-items-start mb-2">
          <div>
            <h4 class="property-title mb-1">{{ property.title }}</h4>
            <p class="property-location mb-2"><i class="bi bi-geo-alt"></i> {{ property.location }}</p>
          </div>
          <div class="property-price">{{ property.price }}</div>
        </div>
        <div class="property-features mb-3">
          <span><i class="bi bi-house"></i> {{ property.beds }} Bed</span>
          <span><i class="bi bi-water"></i> {{ property.baths }} Bath</span>
          <span><i class="bi bi-arrows-angle-expand"></i> {{ property.size }}</span>
        </div>
        <div class="d-flex justify-content-between align-items-center">
          <div class="property-agent d-flex align-items-center gap-2">
            <img [src]="property.agent.avatar" alt="Agent" class="agent-avatar rounded-circle">
            <span>{{ property.agent.name }}</span>
          </div>
          <div class="property-actions">
            <button class="btn btn-outline-secondary btn-sm"><i class="bi bi-heart"></i></button>
            <a [routerLink]="['/property', property.id]" class="btn btn-primary btn-sm">View Details</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


          </div> <!-- End Main Column -->

          <!-- Sidebar Column -->
          <div class="col-lg-4" data-aos="fade-up" data-aos-delay="200">
            <!-- Ici tu peux mettre ton filtre ou featured properties -->
          </div>
        </div> <!-- End Row -->
      </div> <!-- End Container -->
    </section> <!-- End Properties Section -->
  </main>
</div>
