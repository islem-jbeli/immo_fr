<div class="container mt-5">
  <h2 class="text-primary mb-4">Profil Administrateur</h2>

  <div class="card shadow-sm p-4 profile-card">
    <!-- Affichage du profil -->
    <div *ngIf="!editing">
      <h4 class="mb-3 text-secondary">Informations générales</h4>
      <p><i class="fas fa-user me-2"></i><strong>Nom :</strong> {{ user.nom }}</p>
      <p><i class="fas fa-user-tag me-2"></i><strong>Prénom :</strong> {{ user.prenom }}</p>
      <p><i class="fas fa-venus-mars me-2"></i><strong>Sexe :</strong> {{ user.sexe }}</p>
      <p><i class="fas fa-id-card me-2"></i><strong>CIN / Passeport :</strong> {{ user.cin }}</p>
      <p><i class="fas fa-flag me-2"></i><strong>Nationalité :</strong> {{ user.nationalite }}</p>

      <hr>

      <h4 class="mb-3 text-secondary">Informations de localisation</h4>
      <p><i class="fas fa-city me-2"></i><strong>Ville :</strong> {{ user.ville }}</p>
      <p><i class="fas fa-map-marker-alt me-2"></i><strong>Adresse :</strong> {{ user.adresse }}</p>
      <p><i class="fas fa-mail-bulk me-2"></i><strong>Code Postal :</strong> {{ user.codePostal }}</p>

      <hr>

      <h4 class="mb-3 text-secondary">Informations de contact</h4>
      <p><i class="fas fa-envelope me-2"></i><strong>Email :</strong> {{ user.email }}</p>
      <p><i class="fas fa-phone me-2"></i><strong>Téléphone :</strong> {{ user.telephone }}</p>

      <button class="btn btn-primary mt-3" (click)="toggleEdit()">
        Modifier le profil
      </button>
    </div>

    <!-- Mode édition -->
    <div *ngIf="editing">
      <form (ngSubmit)="saveProfile()">
        <div class="mb-3">
          <label class="form-label">Nom</label>
          <input type="text" class="form-control" [(ngModel)]="user.nom" name="nom" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Prénom</label>
          <input type="text" class="form-control" [(ngModel)]="user.prenom" name="prenom" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" [(ngModel)]="user.email" name="email" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Téléphone</label>
          <input type="text" class="form-control" [(ngModel)]="user.telephone" name="telephone">
        </div>
        <div class="mb-3">
          <label class="form-label">Adresse</label>
          <input type="text" class="form-control" [(ngModel)]="user.adresse" name="adresse">
        </div>

        <button type="submit" class="btn btn-success me-2">Enregistrer</button>
        <button type="button" class="btn btn-secondary" (click)="toggleEdit()">Annuler</button>
      </form>
    </div>
  </div>
</div>
